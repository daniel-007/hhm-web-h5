!function(){function t(t,c,e){$.ajax({type:"POST",url:t,data:c,timeout:15e3,success:function(t,c,s){t.status?e(null,t):e(t.msg,null)},error:function(c,s,r){console.error(t+" error: "+s+"##"+r),e("服务异常",null)}})}require.config({baseUrl:"../js",paths:{Vue:"./lib/vue.min",Utils:"./lib/utils"},shim:{Vue:{exports:"Vue"},Utils:{exports:"Utils"}}}),require(["Vue","Utils"],function(c,e){"use strict";c.config.delimiters=["${","}"],c.config.unsafeDelimiters=["{!!","!!}"],$(document).on("pageInit","#page-cart",function(s,r,i){var o=new c({el:"#page-cart",data:{allChecked:!0,carts:{}}});t("/cart/cart-info",{},function(t,c){if(t)$.toast(t,1e3);else for(var e=c.cart,s=e.length,r=null,i=0;s>i;i++){r=e[i];var a={};void 0===o.carts[r.ProductSysNo]?(o.carts[r.ProductSysNo]={},o.carts[r.ProductSysNo].name=r.Name,o.carts[r.ProductSysNo].productId=r.ProductSysNo,o.carts[r.ProductSysNo].image=r.Images.length>0?r.Images[0]:"",o.carts[r.ProductSysNo].skus=[],a.cartId=r.SysId,a.skuId=r.SkuSysNo,a.size=r.SizeName,a.qty=r.Qty,a.price=r.Price,o.carts[r.ProductSysNo].skus.push(a)):(a.cartId=r.SysId,a.skuId=r.SkuSysNo,a.size=r.SizeName,a.qty=r.Qty,a.price=r.Price,o.carts[r.ProductSysNo].skus.push(a))}}),o.$watch("addCartNum1",function(t,s){""!==t&&(e.isPositiveNum(t)||($.toast("请输入正确的购买数量",500),c.nextTick(function(){cartVm.addCartNum1=s})))}),$(".my-list-cart input[type=checkbox]").prop("checked",!0),$(i).on("click",".my-nav-bar .label-checkbox",function(){o.allChecked?$(".my-list-cart input[type=checkbox]").prop("checked",!1):$(".my-list-cart input[type=checkbox]").prop("checked",!0)}),$(i).on("click",".my-list-cart .label-checkbox",function(){$(this).is(":checked")||(o.allChecked=!1)})}),$.init()})}();